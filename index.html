<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fierté Africaine</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
:root{--marron:#6b3e26;--beige:#f5f0e6}
body{margin:0;font-family:Segoe UI,Arial;background:var(--beige)}

header{
background:var(--marron);
padding:12px 25px;
display:flex;
justify-content:space-between;
align-items:center;
position:fixed;
width:100%;
top:0;
z-index:100
}
nav a{color:var(--beige);margin-left:20px;text-decoration:none;font-weight:bold;cursor:pointer}

section{
display:none;
padding:100px 20px 80px;
max-width:1100px;
margin:auto
}
section.active{display:block}

.presentation{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
gap:20px;
margin-top:20px
}
.presentation img,.presentation video{
width:100%;
border-radius:15px;
background:#fff
}

.produit-container{
background:white;
padding:15px;
border-radius:18px;
margin-bottom:30px;
text-align:center
}
.main-image{
width:100%;
max-height:350px;
object-fit:contain;
background:#f5f0e6;
border-radius:15px
}
.thumbnails{
display:flex;
justify-content:center;
gap:10px;
margin-top:10px
}
.thumbnails img{
width:80px;height:80px;
object-fit:contain;
border-radius:10px;
cursor:pointer
}

form{
background:white;
padding:25px;
border-radius:18px;
max-width:500px;
margin:auto
}

input,select,button{
width:100%;
padding:12px;
margin-bottom:12px;
border-radius:8px;
border:1px solid #ccc
}

button{
background:var(--marron);
color:white;
font-weight:bold;
border:none;
cursor:pointer
}

button:disabled{background:#aaa}

.whatsapp{
position:fixed;
bottom:20px;
right:20px;
background:#25D366;
color:white;
padding:12px 20px;
border-radius:30px;
text-decoration:none;
font-weight:bold
}

footer{
text-align:center;
padding:15px;
background:var(--marron);
color:var(--beige)
}
</style>
</head>

<body>

<header>
<div class="logo">
<img src="logo fa.jpeg" style="width:50px;height:50px;border-radius:50%">
<span>Fierté Africaine</span>
</div>
<nav>
<a onclick="show('home')">Accueil</a>
<a onclick="show('shop')">Boutique</a>
</nav>
</header>

<!-- SECTION PRÉSENTATION -->
<section id="home" class="active">
<h1>Présentation</h1>
<div class="presentation">
<img src="photo1.jpg">
<img src="photo2.jpg">
<img src="photo3.jpg">
<img src="photo4.jpg">
<img src="photo5.jpg">

<video src="video machine 1.mp4" controls></video>
<video src="2.mp4 de la machine à vidéos" controls></video>
<video src="video machine.mp4" controls></video>
</div>
</section>

<!-- SECTION BOUTIQUE -->
<section id="shop">
<h2>Boutique</h2>

<!-- Tee-shirt -->
<div class="produit-container">
<h3>Tee-shirt Fierté Africaine</h3>
<img id="main-tee" src="shooting.jpeg" class="main-image">
<div class="thumbnails">
<img src="shooting.jpeg" onclick="main_tee.src=this.src">
<img src="shooting1.jpeg" onclick="main_tee.src=this.src">
<img src="shooting4.jpeg" onclick="main_tee.src=this.src">
</div>
<p><b>8 000 FCFA</b></p>
<button onclick="choisir('Tee-shirt',8000)">Choisir</button>
</div>

<!-- Pull -->
<div class="produit-container">
<h3>Pull Fierté Africaine</h3>
<img id="main-pull" src="pull marron.jpeg" class="main-image">
<div class="thumbnails">
<img src="pull marron.jpeg" onclick="main_pull.src=this.src">
<img src="WhatsApp Image 2026-01-03 at 19.53.30.jpeg" onclick="main_pull.src=this.src">
<img src="mage WhatsApp 2026-01-04 à 12.49.2" onclick="main_pull.src=this.src">
</div>
<p><b>8 000 FCFA</b></p>
<button onclick="choisir('Pull',8000)">Choisir</button>
</div>

<!-- FORMULAIRE COMMANDE -->
<form>
<input id="nom" placeholder="Nom complet">
<input id="tel" placeholder="Téléphone">
<input id="prod" readonly>
<input id="qte" type="number" value="1" min="1" onchange="calcul()">

<select id="taille">
<option value="">Taille</option>
<option>S</option><option>M</option><option>L</option>
<option>XL</option><option>2XL</option><option>3XL</option>
</select>

<select id="couleur">
<option value="">Couleur</option>
<option>Marron</option>
<option>Blanc</option>
<option>Noir</option>
<option>Beige</option>
</select>

<select id="livraison" onchange="lieu.style.display=this.value==='Oui'?'block':'none'">
<option value="Non">Pas de livraison</option>
<option value="Oui">Livraison</option>
</select>

<input id="lieu" placeholder="Lieu de livraison" style="display:none">

<p><b>Total : <span id="total">0</span> FCFA</b></p>

<p><b>Paiement Wave :</b></p>
<button type="button" onclick="payerWave()">Payer avec Wave</button>

<p><b>Envoyer la facture sur :</b></p>
<label><input type="radio" name="wa" value="783000823" checked> WhatsApp 78 300 08 23</label><br>
<label><input type="radio" name="wa" value="782040423"> WhatsApp 78 204 04 23</label>

<button type="button" onclick="confirmerPaiement()">J’ai payé</button>
<button id="factureBtn" type="button" onclick="facture()" disabled>Télécharger la facture</button>

<p id="resultat"></p>
</form>
</section>

<a class="whatsapp" href="https://wa.me/221783000823" target="_blank">WhatsApp</a>

<footer>© 2026 Fierté Africaine</footer>

<script>
const PRIX=8000;
const SCRIPT_URL="https://script.google.com/macros/s/AKfycbwB2G_GtakGvZkAgiKW6I4pflelYUMWHhX-DV8D-hJbdIIz_bhb0PSkC-5ZX9psInzC/exec";

let paiementOK=false;
let numeroCommande="";
let statutPaiement="Wave";
let etatCommande="En attente";

function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

function choisir(p,pv){
prod.value=p;
prix=pv;
calcul();
}

function calcul(){
total.innerText=prix*qte.value;
}

function payerWave(){
window.open("https://pay.wave.com/m/M_sn_HSbhSDDjenFD/c/sn/","_blank");
}

function genererNumeroCommande(){
const d=new Date();
numeroCommande="FA-"+d.getFullYear()+"-"+d.getTime().toString().slice(-5);
}

async function lireEtatCommandeDepuisSheet(){
const r = await fetch(SCRIPT_URL + "?commande=" + numeroCommande);
etatCommande = await r.text();
}

async function confirmerPaiement(){
if(!nom.value || !tel.value){
alert("Veuillez remplir vos informations");
return;
}
genererNumeroCommande();

fetch(SCRIPT_URL,{
method:"POST",
body:JSON.stringify({
commande:numeroCommande,
nom:nom.value,
telephone:tel.value,
produit:prod.value,
quantite:qte.value,
total:total.innerText,
statutPaiement:statutPaiement
})
}).then(r=>{
if(!r.ok){alert("Erreur");return;}

paiementOK = true;
statutPaiement="Payée (Wave)";
factureBtn.disabled = false;
resultat.innerText = "Commande enregistrée ✔️";

envoyerWhatsAppAuto();
});
}

async function facture(){
if(!paiementOK)return;

await lireEtatCommandeDepuisSheet();

const {jsPDF}=window.jspdf;
const d=new jsPDF();

d.text("FACTURE – FIERTE AFRICAINE",20,20);
d.text(`Commande : ${numeroCommande}`,20,30);
d.text(`État commande : ${etatCommande}`,20,40);
d.text(`Statut paiement : ${statutPaiement}`,20,50);
d.text(`Nom : ${nom.value}`,20,60);
d.text(`Téléphone : ${tel.value}`,20,70);
d.text(`Produit : ${prod.value}`,20,80);
d.text(`Quantité : ${qte.value}`,20,90);
d.text(`Total : ${total.innerText} FCFA`,20,105);

d.save("facture_fierte_africaine.pdf");
}

async function envoyerWhatsAppAuto(){
await lireEtatCommandeDepuisSheet();

const numero=document.querySelector('input[name="wa"]:checked').value;

let msg=
`FACTURE FIERTE AFRICAINE
Commande : ${numeroCommande}
État commande : ${etatCommande}
Statut paiement : ${statutPaiement}
Nom : ${nom.value}
Téléphone : ${tel.value}
Produit : ${prod.value}
Quantité : ${qte.value}
Total : ${total.innerText} FCFA`;

window.open("https://wa.me/221"+numero+"?text="+encodeURIComponent(msg),"_blank");
}
</script>

</body>
</html>
